<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../StaticFile/stylesheets/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../StaticFile/script.js" defer></script>

    <!-- Title and Favicon Below-->
    <title>Survey Responses</title>
    <link rel="icon" type="image/x-icon" href="../StaticFile/Images/UNCC-Favicon.ico">
</head>
<header>
    <div>
        <img src="../StaticFile/Images/header/UNCC-White-Logo.png" class="surveyHeaderIMG">
    </div>
</header>
<body>
    <!-- Main Container for User Responses -->
    <div class="survey-container">
        <div class="survey-box">
            <!-- Header for the Responses Page -->
            <h1 class="responseHeader">Roommate Compatibility Survey Responses</h1>

            <div class="searchBar-Container">
                <form class="searchBar-Bar">
                  <input type="text" class="text" placeholder="Search Responses">
                  <button type="submit">
                    <i class="bi-search"></i>
                  </button>
                </form>
              </div>
            <!-- Loop Through Each User's Responses -->
            {% for response in all_responses %}
            <div class="response-box">
                <div class="response-header" onclick="toggleDropdown('dropdown-{{ response.id }}')">
                    <h3>Response ID: {{ response.id }}</h3>
                </div>
                <!-- Dropdown Content (Hidden by Default) -->
                <div id="dropdown-{{ response.id }}" class="response-details" style="display:none;">
                    {% if response.q1 != None %}
                    <!-- Question 1 -->
                    <div class="response-item-container">
                        <p class="response-item-title">{{ all_questions[0].caption }}: </p>
                        <span data-category="year-{{ response.id }}" class="response-answer">{{ response.q1 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('year-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('year-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>
                    {% endif %}
                    {% if response.q2 != None %}
                    <!-- Question 2 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[1].caption }}: <p> {{ response.q2 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q3 != None %}
                    <!-- Question 3 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[2].caption }}: <p> {{ response.q3 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q4 != None %}
                    <!-- Question 4 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[3].caption }}: <p> {{ response.q4 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q5 != None %}
                    <!-- Question 5 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[4].caption }}: <p> {{ response.q5 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q6 != None %}
                    <!-- Question 6 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[5].caption }}: <p> {{ response.q6 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q7 != None %}
                    <!-- Question 7 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[6].caption }}: <p> {{ response.q7 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q8 != None %}
                    <!-- Question 8 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[7].caption }}: <p> {{ response.q8 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q9 != None %}
                    <!-- Question 9 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[8].caption }}: <p> {{ response.q9 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q10 != None %}
                    <!-- Question 10 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[9].caption }}: <p> {{ response.q10 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q11 != None %}
                    <!-- Question 11 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[10].caption }}: <p> {{ response.q11 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q12 != None %}
                    <!-- Question 12 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[11].caption }}: <p> {{ response.q12 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q13 != None %}
                    <!-- Question 13 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[12].caption }}: <p> {{ response.q13 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q14 != None %}
                    <!-- Question 14 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[13].caption }}: <p> {{ response.q14 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                    {% if response.q15 != None %}
                    <!-- Question 15 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">{{ all_questions[14].caption }}: <p> {{ response.q15 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
</body>
</html>
