<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../StaticFile/stylesheets/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../StaticFile/script.js" defer></script>

    <!-- Title and Favicon Below-->
    <title>Survey Responses</title>
    <link rel="icon" type="image/x-icon" href="../StaticFile/Images/UNCC-Favicon.ico">
</head>
<header>
    <div>
        <img src="../StaticFile/Images/header/UNCC-White-Logo.png" class="surveyHeaderIMG">
    </div>
</header>
<body>
    <!-- Main Container for User Responses -->
    <div class="survey-container">
        <div class="survey-box">
            <!-- Header for the Responses Page -->
            <h1 class="responseHeader">Roommate Compatibility Survey Responses</h1>

            <div class="searchBar-Container">
                <form class="searchBar-Bar" onsubmit="filterResponses(event)">
                    <input type="text" id="search" class="text" placeholder="Search Response ID">
                    <button type="submit">
                        <i class="bi-search"></i>
                    </button>
                </form>
            </div>            
            
            <!-- Loop Through Each User's Responses -->
            {% for response in all_responses %}
            <div class="response-box">
                <div class="response-header" onclick="toggleDropdown('dropdown-{{ response.id }}')">
                    <h3>Response ID: {{ response.id }}</h3>
                </div>
                <!-- Dropdown Content (Hidden by Default) -->
                <div id="dropdown-{{ response.id }}" class="response-details" style="display:none;">

                    <!-- Question 1 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Year:</p>
                        <span data-category="q1-{{ response.id }}" class="response-answer">{{ response.q1 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q1-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q1-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Question 2 -->
                    <div class = "response-item-container">
                        <p class="response-item-title">Major: <p> {{ response.q2 }}</p></p>
                        <div class="response-item-symbols">
                            <button class="bi bi-pencil-square"></button>
                            <button class="bi bi-x-square"></button>
                        </div>  
                    </div>
                    <!-- Question 3 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Same Major Preference:</p>
                        <span data-category="q3-{{ response.id }}" class="response-answer">{{ response.q3 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q3-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q3-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Question 4 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Room Sharing:</p>
                        <span data-category="q4-{{ response.id }}" class="response-answer">{{ response.q4 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q4-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q4-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Question 5 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Quiet Hours:</p>
                        <span data-category="q5-{{ response.id }}" class="response-answer">{{ response.q5 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q5-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q5-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Question 6 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Preferred Sleep Time:</p>
                        <span data-category="q6-{{ response.id }}" class="response-answer">{{ response.q6 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q6-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q6-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Question 7 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Study Habits:</p>
                        <span data-category="q7-{{ response.id }}" class="response-answer">{{ response.q7 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editMultiResponse('q7-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteMultiResponse('q7-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Question 8 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Hobbies:</p>
                        <span data-category="q8-{{ response.id }}" class="response-answer">{{ response.q8 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editMultiResponse('q8-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteMultiResponse('q8-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Question 9 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Preferred Room Climate:</p>
                        <span data-category="q9-{{ response.id }}" class="response-answer">{{ response.q9 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q9-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q9-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Question 10 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Cleanliness:</p>
                        <span data-category="q10-{{ response.id }}" class="response-answer">{{ response.q10 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q10-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q10-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Question 11 -->
                    <div class="response-item-container">
                        <p class="response-item-title">Conflict Resolution Style:</p>
                        <span data-category="q11-{{ response.id }}" class="response-answer">{{ response.q11 }}</span>
                        <div class="response-item-symbols">
                            <button onclick="editResponse('q11-{{ response.id }}')">
                                <i class="bi bi-pencil-square"></i>
                            </button>
                            <button onclick="deleteResponse('q11-{{ response.id }}')">
                                <i class="bi bi-x-square"></i>
                            </button>
                        </div>
                    </div>                    
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
</body>
</html>
